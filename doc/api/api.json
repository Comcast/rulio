[{"op":"/version",
  "description":"Report the version of the endpoint",
  "exampleRequest": {}},

 {"op":"/sys/util/nowsecs",
  "description":"Report the time that the endpoint thinks it is",
  "exampleRequest":{}},

 {"op":"/sys/util/match",
  "description":"Match a fact against a pattern",
  "params": {"fact":"A fact in JSON",
	     "pattern":"A pattern in JSON"},
  "exampleRequest":{"fact":{"person":"homer","kids":["bart","lisa"]},
		    "pattern":{"person":"homer","kids":["?kid"]}}},

 {"op":"/sys/util/js",
  "description":"Evaluate some in-process Javascript",
  "params":{"code":"The Javascript"},
  "exampleRequest":{"code":"1+2"}},

 {"op":"/sys/util/batch",
  "description":"Evaluate a batch of requests",
  "params":{"requests":"Array of requests, each of which should have a 'uri'"},
  "exampleRequest":{"requests":[{"uri":"/sys/util/nowsecs"},
				{"uri":"/sys/util/js","code":"1+2"}]}},

 {"op":"/sys/cachedlocations",
  "description":"Get all cached locations",
  "exampleRequest":{}},

 {"op":"/loc/admin/size",
  "description":"Gets the number of facts (including rules) in the location",
  "params":{"location":"The target location"},
  "exampleRequest":{"location":"here"}},

 {"op":"/loc/facts/add",
  "description":"Add a fact to the given location",
  "params":{"location":"The target location",
	    "fact":"The fact in JSON"},
  "exampleRequest":{"location":"here",
		    "fact":{"person":"homer","likes":"beer"}}},

 {"op":"/loc/facts/search",
  "description":"Search (internal) facts at given location",
  "params":{"location":"The target location",
	    "fact":"The fact in JSON"},
  "exampleRequest":{"location":"here",
		    "pattern":{"person":"?who","likes":"?what"}}},

 {"op":"/loc/facts/query",
  "description":"Query facts at given location",
  "params":{"location":"The target location",
	    "query":"The query (as in a rule condition) in JSON"},
  "exampleRequest":{"location":"here",
		    "query":{"and":[{"pattern":{"person":"?who","likes":"?what"}},
				    {"code":"what.length > 2"}]}}},

 {"op":"/loc/rules/add",
  "description":"Add a new rule to the given location",
  "params":{"location":"The target location",
	    "id":"Optional id",
	    "rule":"The rule in JSON"},
  "exampleRequest":{"location":"here",
		    "id":"rule42",
		    "rule": {"when":{"pattern":{"person":"?who","arrived":"?there"}},
			     "condition":{"pattern":{"person":"?who","likes":"?what"}},
			     "action":{"code":"console.log(\"Deliver some \" + what + \" to \" + there);"}}}},

 {"op":"/loc/rules/list",
  "description":"Get the known rules",
  "params":{"location":"The target location"},
  "exampleRequest":{"location":"here"}},

 {"op":"/loc/events/ingest",
  "description":"Submit an event for processing",
  "params":{"location":"The target location",
	    "event":"The event in JSON",
	    "externalFactsTimeout":"Optional timeout; syntax is from 'http://golang.org/pkg/time/#ParseDuration'"},
  "exampleRequest":{"location":"here",
		    "event":{"person":"homer","arrived":"home"}}},

 {"op":"/loc/parents",
  "description":"Get or set a location's parents",
  "params":{"set":"JSON representing an array of strings to set the parents; if not provided, get the current parents"},
  "exampleRequest":{"location":"here", "set": "[\"grandpa\"]"}},

 {"op":"/loc/events/retry",
  "description":"Retry event processing",
  "params":{"location":"The target location",
	    "work":"The event work as returned by 'ingest'"}},

 {"op":"/sys/admin/timers/names",
  "description":"Get an array of known timers",
  "params":{},
  "exampleRequest":{}},

 {"op":"/sys/admin/timers/get",
  "description":"Get a timer",
  "params":{"name":"Timer name",
	    "after":"Optional seq integer (defaults to -1)",
	    "limit":"Optional max number to return"},
  "exampleRequest":{"name":"ProcessRequest",
		    "limit":3}},

 {"op":"/loc/rules/disable",
  "description":"Disable a rule",
  "params":{"location":"The target location",
	    "id":"The rule ID as returned by a `/rules/add`"},
  "exampleRequest":{"name":"ServeHTTP",
		    "location":"here",
		    "id":"rule42"}},

 {"op":"/loc/rules/enable",
  "description":"Enbale a rule",
  "params":{"location":"The target location",
	    "id":"The rule ID as returned by a `/rules/add`"},
  "exampleRequest":{"name":"ServeHTTP",
		    "location":"here",
		    "id":"rule42"}},

 {"op":"/loc/rules/enabled",
  "description":"Report whether a rule is enabled",
  "params":{"location":"The target location",
	    "id":"The rule ID as returned by a `/rules/add`"},
  "exampleRequest":{"name":"ServeHTTP",
		    "location":"here",
		    "id":"rule42"}},

 {"op":"/loc/rules/rem",
  "description":"Remove a rule from the given location",
  "params":{"location":"The target location",
	    "id":"The rule ID as returned by a `/rules/add`"},
  "exampleRequest":{"name":"ServeHTTP",
		    "location":"here",
		    "id":"rule42"}},

 {"op":"/loc/util/js",
  "description":"Evaluate some in-process Javascript within a location",
  "params":{"code":"The Javascript to execute"},
  "exampleRequest":{"code":"Env.Location",
		    "location":"here"}},

 {"op":"/loc/admin/create",
  "description":"Create a location",
  "params":{"location":"The name of the location to create"},
  "exampleRequest":{"location":"CreatedLocation"}},

 {"op":"/loc/admin/delete",
  "description":"Delete a location",
  "params":{"location":"The name of the location to delete"},
  "exampleRequest":{"location":"CreatedLocation"}},

 {"op":"/loc/admin/stats",
  "description":"Get basic stats for the given location",
  "params":{"location":"The target location"},
  "exampleRequest":{"location":"here"}},

 {"op":"/loc/admin/clear",
  "description":"Clear all (internal) state at the given location",
  "params":{"location":"The target location"},
  "exampleRequest":{"location":"here"}},

 {"op":"/sys/runtime",
  "description":"Get a huge pile of Go runtime stats",
  "exampleRequest":{}},

 {"op":"/sys/admin/pending",
  "description":"Get or set the max number of pending requests",
  "params":{"max":"Optional new maximum"},
  "exampleRequest":{}},

 {"op":"/sys/admin/connstates",
  "description":"See the connection state counts",
  "exampleRequest":{}},

 {"op":"/sys/admin/gc",
  "description":"Run the garbage collector",
  "exampleRequest":{}},

 {"op":"/sys/admin/freemem",
  "description":"Maybe return memory to the OS",
  "exampleRequest":{}},

 {"op":"/sys/admin/gcpercent",
  "description":"Set the GC trigger threshold",
  "params":{"percent":"Percentage threshold"},
  "exampleRequest":{"percent":"70"}},

 {"op":"/sys/stats",
  "description":"Get basic system metrics",
  "exampleRequest":{}},

 {"op":"/health/shallow",
  "description":"Ping",
  "exampleRequest":{}},

 {"op":"/health/deep",
  "description":"Somewhat deep health check",
  "exampleRequest":{}},

 {"op":"/health/deeper",
  "description":"Deeper health check, which checks storage",
  "exampleRequest":{}}

]
